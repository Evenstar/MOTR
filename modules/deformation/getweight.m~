function weight=getweight(C,S)
weight=zeros(size);
pointer=1;
for i=1:size(S,1)-1
    if i==1
    weight(pointer:pointer+prod(S(i,:)))=2^(1-i);
    pointer=pointer+prod(S(i,:));
    else
        for j=1:3
               weight(pointer:pointer+prod(S(i,:)))=2^(1-i);
               pointer=pointer+prod(S(i,:));
        end
    end
end
end